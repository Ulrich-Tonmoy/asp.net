@page "/leavetypes/edit/{id:int}"

<h3>Edit Leave Type</h3>

@if (string.IsNullOrEmpty(Message) == false)
{
    <div class="alert alert-danger">
        @Message
    </div>
}

<FormComponent ButtonText="Update" LeaveType="leaveType" OnValidSubmit="@EditLeaveType" />

@code {
    [Inject]
    ILeaveTypeService _client { get; set; }

    [Inject]
    NavigationManager _navManager { get; set; }

    [Parameter]
    public int id { get; set; }
    public string Message { get; private set; }

    LeaveTypeDto leaveType = new LeaveTypeDto();

    protected async override Task OnParametersSetAsync()
    {
        // leaveType = await _client.GetLeaveTypeDetails(id);
    }

    async Task EditLeaveType()
    {
        // var response = await _client.UpdateLeaveType(id, leaveType);
        // if (response.Success)
        // {
        //     _navManager.NavigateTo("/leavetypes/");
        // }
        // Message = response.Message;
    }
}
